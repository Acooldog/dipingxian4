# dipingxian4
地平线4修复工具
# **地平线4修复工具**
> 本软件目前仅支持windows系统，并且需要python3.8以上版本<br>
> 本软件仅用于学习交流，请勿用于商业用途<br>
> 本软件遵守GPLv3协议，并受中国软件著作权法保护，如果发现使用代码不开源行为，则会追究法律责任<br>
该工具是我在去年九月份开始用pyqt框架写的，经过了多版本的迭代，12月采用pyside6框架重写来写

## 介绍
**由于个人能力限制，此工具只能做到修复一部分人问题，并且本工具只是将网络上现有教程，使用工具来实现的**<br>
**其实还有一部分修复程序我并没有开源，因为那个在老项目里面，而我懒得去移植过来，如果有时间我可能会移植**
<br>


# **使用方法**
## 1. 创建虚拟环境并安装依赖
**最好创建一个虚拟环境，否则你的python环境以后可能特别卡**<br>
在对应的环境中输入以下命令：
```
pip install -r requirements.txt
```
<br>

## 2. 配置后端地址以及更新网址
配置相应py文件的服务器后端地址，以及文件下载地址<br>
**1. send_email.py文件的16-18行**<br>
**2. update.py文件的第34行**<br>
**3. fileAndZip.py文件的第107行**<br>
**注意: 你需要独立编写后端，并且搭建服务器来运行<br>后端编写请参考window.py文件中多线程以及返回槽函数进行编写，本教程不提供后端思路**<br>

## 3. 在线更新算法
此程序有我写的一个在线更新算法，检测到与后端的版本不一致并且用户选择更新时<br>
会自动更新软件，并保留老版本exe文件，需要手动删除老版本exe文件(当然不删除也没关系)<br>
**在线更新算法的实现在fileAndZip/update_zip/update.py文件当中**<br>
**由于是我个人自研写的算法，所以这个算法的效率可能有点低，但是小更新还是没问题的**<br>

### 自动更新算法实现
**需要将up.zip中放置一个test.ini配置文件，并将标题头改为[path]，你要更新的文件们也必须放进去。<br>键有多少无所谓，需要是相对路径，并且此相对路径必须真实存在于压缩包内**<br>
**再放置到服务器中去就可以了<br>**
**此在线更新算法有个弊端，就是如果要更新许多文件，ini文件中必须一个一个都输上所有的文件路径，所以这就是我为什么上面说“小更新还是没问题的”**

## 4. 运行
后端以及在线更新网址搭建好后，就可以运行了，运行方法如下：
```
python main.py
```
